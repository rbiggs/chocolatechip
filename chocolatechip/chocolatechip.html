<h1 id="chocolatechipjs">ChocolateChip.js</h1>

<pre><code>   pO\     
  6  /\
    /OO\
   /OOOO\
 /OOOOOOOO\
((OOOOOOOO))
 \:~=++=~:/  

ChocolateChip.js: It's tiny but delicious
A JavaScript library for mobile Web app development.

Copyright 2011 Robert Biggs: www.choclatechip-ui.com
License: BSD
Version 2.0
</code></pre>

<p>&nbsp;</p>

<h2 id="main_object">Main Object</h2>

<h3 id="">$</h3>

<p>This is the main object for ChocolateChip.js. Everything else is a child of this. It purpose is to return a DOM node. If no parameter is provided, such as <strong>$()</strong>, it returns itself. If a string is passed as an argument, it parses the string using the DOM method <strong>querySlector</strong>. For this reason, <strong>$</strong> will always return the first instance of a match. Other matches will be ignored. If you want to get all possible matches, you&#8217;ll need to use the <strong>$$</strong> method. If you pass in a reference to the window object, document or a DOM node, it will return those. If you pass a function as the argument, it will execute an onDOMContentLoaded event.</p>

<p><strong>Example:</strong></p>

<pre><code>$() // returns the ChocolateChip object
var button = $('.button') // returns the first instance of an element with the class 'button'
$(button) returns the element from the line above
$(window) returns the window object (DOMWindow)
$(document) returns the document element (Document)
$(function() {
   console.log('The DOM is fully ready!')
})
</code></pre>

<h3 id="extend">$.extend</h3>

<p>This method allows you to extend objects. There are two types of objects you can extend, native and one you define yourself. This method uses Object.keys and Object.defineProperty to add properties to JavaScript&#8217;s native objects without poluting their prototypes. This means that if you iterate over the native properties of the extended object, your newly added properties will not show. That&#8217;s fine for native objects, however with object you define, if you try to extend one later, those properties would also not be exposed when looping the object&#8217;s properties. You can make your added properties show on the objects you&#8217;ve create by passing in an extra boolean parameter of <em>true</em>. </p>

<p>If only a property is passed as an argument, extend will add these to the <strong>$</strong>. </p>

<p>When extending native JavaScript objects you&#8217;ll need to include the object&#8217;s prototype. See the examples below.</p>

<p><strong>Example:</strong></p>

<pre><code>$.extend(HTMLElement.prototype, {
   click : function() {
      alert('You just clicked me!');
   }
})

// A user defined object:
var obj = {
   firstname: 'Bozo'
};
$.extend(obj, {
   lastname: 'The Clown',
   job: 'Entertainer'
}, **true**) // Pass 'true' to make the new properties enumerable.
for (key in obj) {
    console.log(key)
}

// Only a parameter passed, so extending **$**:
$({
   funny: function() {
      console.log('Ha ha ha!');
   }
})
</code></pre>

<h2 id="array_methods">Array Methods:</h2>

<h3 id="each">each</h3>

<p>This method is just a short cut for [].forEach. It works exactly the same. It takes a function as its argument and returns both the index and context of the iteration.</p>

<p><strong>Example:</strong></p>

<pre><code>var listItems = ['one','two','three','four','five'];
listItems.each(function(ctx, idx){
   console.log('Item ' + idx+1 + ' is ' + ctx + '.');
})
</code></pre>

<h3 id="eq">eq</h3>

<p>This method is used to return an index of an array, particularly with respect to arrays of DOM nodes. This allows you to get a node from a collection based on its order in the collection. So, if we hade a colleciton of nodes called <strong>nodes</strong>, we could get the first node with <strong>nodes.eq(0)</strong>, the second with <strong>nodes.eq(1)</strong>, the third with <strong>nodes.eq(2)</strong> and the last with <strong>nodes.eq(nodes.length-1)</strong>.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').findAll('li').eq(4) // Get the fourth menu item
</code></pre>

<h3 id="is">is</h3>

<p>This method allows us to pick a node out of a collection based on some attribute or property. It uses ChocolateChip&#8217;s <strong>HTMLElement.is</strong> method. It can accept the following arguemnts: tag, class, attribute. It returns all nodes in the array that match the argument.</p>

<p><strong>Example:</strong></p>

<pre><code>// Find all messages that are p tags:
var msg = $$('.messages').is('p');
// Find all li tags with the class "menu":
var menuItems = $$('li').is('.menu');
// Find all buttons with the attribute "disabled":
var disabled = $$('button').is('[disabled]');
</code></pre>

<h3 id="isnt">isnt</h3>

<p>This method is similar to <strong>is</strong> but returns all nodes in the collection that <strong>do not</strong> match the arguemnt passed. Like <strong>is</strong> it expects a tag, class or attribute as its argument.</p>

<p><strong>Example:</strong></p>

<pre><code>// Find all messages that are not p tags:
var msg = $$('.messages').not('p');
// Find all li tags that do not have the class "menu":
var menuItems = $$('li').is('.menu');
// Find all buttons that are not disabled:
var disabled = $$('button').not('[disabled]');
</code></pre>

<h3 id="not">not</h3>

<p>Same as <strong>isnt</strong>.</p>

<h3 id="has">has</h3>

<p>This method is similar to <strong>is</strong> but it checks the child nodes of the element and returns all nodes whose child nodes match the argument. Like <strong>is</strong> it accepts an argument of a tag, class or attribute.</p>

<p><strong>Example:</strong></p>

<pre><code>// Find all messages that contain a span tag:
var msg = $$(".message").has("span");
// Find all items with a child node of class "status":
var complete = $$("p.tasks").has(".status");
// Find all items with a disabled child node:
var disabledItems = $$(".widget").has("[disabled]");
</code></pre>

<h3 id="hasnt">hasnt</h3>

<p>This method is the opposite of <strong>has</strong> in that it returns all nodes whose child nodes do not match the argument passed. Like <strong>has</strong> it expects an argument of a tag, class or attribute.</p>

<p><strong>Example:</strong></p>

<pre><code>// Find all messages that do not contain a span tag:
var msg = $$(".message").hasNot("span");
// Find all items without a child node of class "completed":
var todo = $$("p.tasks").hasNot(".completed");
// Find all items with a disabled child node:
var disabledItems = $$(".widget").hasNot("[disabled]");
</code></pre>

<h3 id="hasnot">hasNot</h3>

<p>Same as <strong>hasnt</strong>.</p>

<h3 id="prependto">prependTo</h3>

<p>This method will prepend a collection of nodes to the element it is executed on.</p>

<p><strong>Example:</strong></p>

<pre><code>html: 
&lt;ul id="list1"&gt;&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;/ul&gt;
&lt;ul id="list2"&gt;&lt;li&gt;four&gt;&lt;/li&gt;&lt;/ul&gt;

$('#list1').findAll('li').prependTo('#list2');
// This will result in:
&lt;ul id="list1"&gt;&lt;/ul&gt;
&lt;ul id="list2"&gt;&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;li&gt;four&gt;&lt;/li&gt;&lt;/ul&gt;
</code></pre>

<h3 id="appendto">appendTo</h3>

<p>Like <strong>prependTo</strong>, this method will append a collection of node to its target.</p>

<p><strong>Example:</strong></p>

<pre><code>html: 
&lt;ul id="list1"&gt;&lt;li&gt;one&lt;/li&gt;&lt;/ul&gt;
&lt;ul id="list2"&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;li&gt;four&gt;&lt;/li&gt;&lt;/ul&gt;

$('#list2').findAll('li').prependTo('#list1');
// This will result in:
&lt;ul id="list1"&gt;&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;li&gt;four&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;ul id="list2"&gt;&lt;/ul&gt;
</code></pre>

<h2 id="_methods">$ Methods</h2>

<h3 id="version">version</h3>

<p>The current version of ChocolateChip.js</p>

<h3 id="libraryname">libraryName</h3>

<p>The name of the libary: ChocolateChip. By examining $.libraryName you can tell if $ belongs to ChocolateChip or some other library.</p>

<h3 id="slice">slice</h3>

<p>This is an alias for Array.prototype.slice. This is used to reduce an array like collection to an array.</p>

<h3 id="">$$</h3>

<p>This method is similar to <strong>$</strong> except that it returns all nodes that match the supplied selector. You can pass it an optional context from which to begin search for nodes. This can be a string or a node.</p>

<p><strong>Example:</strong></p>

<pre><code>var listItems = $$('li');
var menuItems = $$('li', '#menu');
// Get a node to use as the context:
var sideMenu = $('#sideMenu');
var sideMenuItems = $$('li', sideMenu);
</code></pre>

<h3 id="make">make</h3>

<p>This method takes a string of DOM markup and converts it into DOM nodes. The markup defined in the string must be well formed or it will throw an exception. Common erros are inproper tags or mismatched quotation marks.</p>

<p><strong>Example:</strong></p>

<pre><code>var button = $.make('&lt;button id="myButton" class="funButton"&gt;Click here&lt;/button&gt;');
</code></pre>

<h3 id="html">html</h3>

<p>This is an alias for <strong>make</strong>.</p>

<h3 id="replace">replace</h3>

<p>This method will replace one DOM element with another.</p>

<p><strong>Example:</strong></p>

<pre><code>var newMenu = $.make('&lt;ul id="newMenu"&gt;&lt;li&gt;One&lt;/li&gt;&lt;li&gt;Two&lt;/li&gt;&lt;li&gt;Three&lt;/li&gt;&lt;/ul&gt;')
$.replace(newMenu, $('#menu1'));
</code></pre>

<h3 id="require">require</h3>

<p>This method allows you to dynamically load scripts and execute a callback once the script is full loaded.</p>

<p><strong>Example:</strong></p>

<pre><code>$.require('/scripts/libs/sillyputty.js', function() {
   var sp = new SillyPutty(); // Will not execute until sillyputty.js is full loaded.
});
</code></pre>

<h3 id="processjson">processJSON</h3>

<p>This method will take JSON retrieved by an Ajax request, inject it into the header in a script tag, then remove the script tag. It expects at least one argument, the data to process. You can pass it a second, optional argument to use to identify the data in JavaScript. See the example below. If no second argument is passed, it will be assigned to the variable &#8216;data&#8217;, overwriting any other value that might have been assigned to that variable earlier. As such, it&#8217;s always best to supply your own names for you processed JSON data.</p>

<p><strong>Example:</strong></p>

<pre><code>$.ajax({
    url: "data.json",
    success : function() {
        return $.processJSON($.responseText, 'collectionData');
    }
});
</code></pre>

<h3 id="noop">noop</h3>

<p>This is a &#8220;no operation performed&#8221; method. It can be used where a function/callback is expected but you don&#8217;t want anything to happen.</p>

<pre><code>$(function() {
   $('#order').on('click', function() {
      $.noop; // Nothing will happen.
   })
})
</code></pre>

<h3 id="concat">concat</h3>

<p>This method utilizes String.prototype.concat to allow you to do efficient string concatenation with a method-like interface.</p>

<p><strong>Example:</strong></p>

<pre><code>$(function() {
    function createButton(options) {
        var id = options.id ? 'id="' + options.id + '" ' : ' ';
        var class = options.class ? 'class="' + options.class + '" ' : ' ';
        var style = options.style ? 'style="' + options.style + '" ' : ' ';
        var submit = options.submit || ' ';
        return $.concat('&lt;button ', id, class, style, '&gt;&lt;/button&gt;');
    }
})
</code></pre>

<h3 id="w">w</h3>

<p>This method takes a space-delimited string of words and returns it as an array where the inidividual words are indeces.</p>

<p><strong>Example:</strong></p>

<pre><code>var str = 'This is an example of a string'
var strArray = $.w(str) // Returns ['This','is','an','example','of','a','string']
</code></pre>

<h3 id="isarray">isArray</h3>

<p>If passed an array as its argument, this method returns a boolean true, otherwise false.</p>

<h3 id="isfunction">isFunction</h3>

<p>If passed a function as its argument, this method returns a boolean true, otherwise false.</p>

<h3 id="isobject">isObject</h3>

<p>If passed an object as its argument, this method returns a boolean true, otherwise false.</p>

<h3 id="uuidnum">uuidNum</h3>

<p>This method returns a random ten digit number.</p>

<h3 id="makeuuid">makeUuid</h3>

<p>This method is used by the ChocolateChip cache system to create a uuid for each cache entry. It uses the uuid number stored in the variable below.</p>

<h3 id="uuid">uuid</h3>

<p>This variable is used by <strong>$.makeUuid</strong> to create uuids for ChocolateChip&#8217;s cache entries.</p>

<h3 id="chch_cache">chch_cache</h3>

<p>This object serves as the storage center for both events and data. Therefore you should never overwrite $.chch_cache or you&#8217;ll disable the ability of ChocolateChip to register events and cache data in relation to nodes.</p>

<h2 id="object_methods">Object methods</h2>

<h3 id="objecteach">Object.each</h3>

<p>This method allows you to use <em>each</em> to iterate over the properties of a function. It is basically equivalent to writing out a for (key in obj) loop.</p>

<p><strong>Example:</strong></p>

<pre><code>var obj = {
    firstname: 'Joe',
    lastname: 'Bodoni',
    age: 35
};
obj.each(function(key, value){
    console.log("Key is: " + key + ", value is: " + value + ".")
});

/* returns: 
Key is: firstname, value is: Joe.
Key is: lastname, value is: Bodoni.
Key is: age, value is: 35.
*/
</code></pre>

<h3 id="objectkey">Object.key</h3>

<p>This method allow you to access the properties of an object using numeric values.</p>

<p><strong>Example:</strong></p>

<pre><code>var obj = {
    firstname: 'Joe',
    lastname: 'Bodoni',
    age: 35
};

obj.key(0); // returns 'Joe'
obj.key(1); // returns 'Bodoni'
obj.key2; // returns 35
</code></pre>

<p>Using a key value greater than the number of object properties will return &#8216;undefined&#8217;.</p>

<h2 id="htmlelementprototype">HTMLElement.prototype</h2>

<p>The following are all the methods that can operate on a DOM node.</p>

<h3 id="data">data</h3>

<p>Like jQuery and Zepto, the data method allows you to store data in relation to a DOM node. It takes two arguments: the name by which to retrieve the data, and the data itself. This allows you to store multiple pieces of data on a single node.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#mainMenu').data("menuitems", {people: "/data/menus/people/", places: "/data/menus/places", food: "/data/menus/food"});
</code></pre>

<h3 id="removedata">removeData</h3>

<p>This removes the data associated with a node.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#mainMenu').removeData("menuitems");
</code></pre>

<h3 id="find">find</h3>

<p>This method finds the first occurrence of the selector from the current node. </p>

<p><strong>Example:</strong></p>

<pre><code>// Find the first instance of '.menu' that is a descendant of '#sidebar'
$('#sidebar').find('.menu');
</code></pre>

<h3 id="findall">findAll</h3>

<p>This method finds every occurence of the selector from the current node.</p>

<p><strong>Example:</strong></p>

<pre><code>// Find all instances of 'li' that are descendants of '#menu'
$('#menu').findAll('li');
</code></pre>

<h3 id="previous">previous</h3>

<p>This method returns the previous sibling of the current node. It is equivalent to the ECMAScript 5 method <strong>previousElementSibling</strong>.</p>

<p><strong>Example:</strong></p>

<pre><code>&lt;p class='paragraph1'&gt;Lorem ipsum&lt;/p&gt;
&lt;p class='paragraph2'&gt;Dolor sit amet&lt;/p&gt;

$('.paragraph2').previous() // Returns '.paragraph1'
</code></pre>

<h3 id="prev">prev</h3>

<p>This method is an alias for <strong>previous</strong>.</p>

<h3 id="next">next</h3>

<p>This method returns the next sibling of the current node. It is equivalent to the ECMAScript 5 method <strong>nextElementSibling</strong>.</p>

<p><strong>Example:</strong></p>

<pre><code>&lt;p class='paragraph1'&gt;Lorem ipsum&lt;/p&gt;
&lt;p class='paragraph2'&gt;Dolor sit amet&lt;/p&gt;

$('.paragraph1').next() // Returns '.paragraph2'
</code></pre>

<h3 id="first">first</h3>

<p>This method returns the first child of an element.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').first() // returns the first child of '#menu'
</code></pre>

<h3 id="last">last</h3>

<p>This method returns the last child of an element.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').last() // returns the last child of '#menu'
</code></pre>

<h3 id="childelements">childElements</h3>

<p>This method returns all the child nodes of an element, minus empty text nodes. It is equivalent to the ECMAScript 5 method <strong>children</strong>.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').childElements() // Returns all child elements of '#menu'
</code></pre>

<h3 id="siblings">siblings</h3>

<p>This method get all the sibling elements of a node. </p>

<p><strong>Example:</strong></p>

<pre><code>$('#paragraph5').siblings() // Returns all child elements of '#paragraph5'
</code></pre>

<h3 id="parent">parent</h3>

<p>This method returns the parent of a node. It is the same as accessing the ECMAScript 5 property <strong>parentNode</strong>.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').parent() // Returns the parent node of '#menu'
</code></pre>

<h3 id="ancestor">ancestor</h3>

<p>This method allows you to get a specific ancestor of a node. You can use a tag, class, attribute or number as the filter for singling out the node. A number will indicate how far back the ancestor is. This method returns the first match for the provided selector.</p>

<p><strong>Example:</strong></p>

<pre><code>// Will return the third ancestor tag back from the current node:
var theAncestor = $("#someID").ancestor(3);
// Will return the element with id of "#main" 
// if it is an ancestor of "#someID":
var theAncestor = $("#someID").ancestor("#main");
// Will return an element with a class of ".myView" if
// it is an ancestor of "#someID":
var theAncestor = $("#someID").ancestor(".myView");
// Will return a subview tag if it is an ancestor of "#someID":
var theAncestor = $("#someID").ancestor("subview");
</code></pre>

<h3 id="closest">closest</h3>

<p>This is an alias for ancestor for compatibility with jQuery/Zepto.</p>

<h3 id="is">is</h3>

<p>This method returns the node if it matches the tag, class or attribute provided as an argument.</p>

<p><strong>Example:</strong></p>

<pre><code>var p = $("#content").is('p');
// Return the element if it has the class 'content':
var content = $('article').is('.content');
// Return the element if it has the atribute 'disabled':
var disabled = $('button').is('[disabled]');
</code></pre>

<h3 id="isnt">isnt</h3>

<p>This method returns the node if it does not match the tag, class or attribute provided as an argument.</p>

<p><strong>Example:</strong></p>

<pre><code>var notParagraph = $("#content").not('p');
// Return the element if it does not have the class 'content':
var notContent = $('article').not('.content');
// Return the element if it has the atribute 'disabled':
var enabled = $('button').not('[disabled]');
</code></pre>

<h3 id="not">not</h3>

<p>This is the same as <strong>isnt</strong>.</p>

<h3 id="has">has</h3>

<p>This method returns the node if one of its child nodes matches the tag, class or attribute provided as an argument.</p>

<p><strong>Example:</strong></p>

<pre><code>// Return the element if it has a child node of this tag type:
var p = $('#content').has('p');
// Return the element if it has a child node with this class:
var hasNewContent = $('#content').has('.new');
// Return the element if it has a child node with this attribute:
var somethingDisabled = $('#content').has('[disabled=disabled]');
</code></pre>

<h3 id="hasnt">hasnt</h3>

<p>This method returns the node if one of its child nodes does not match the tag, class or attribute provided as an argument.</p>

<p><strong>Example:</strong></p>

<pre><code>// Return the element if it does not have a child node of this tag type:
var p = $('#content').hasNot('p');
// Return the element if it has a child node with this class:
var doesntHaveNewContent = $('#content').hasNot('.new');
// Return the element if it does not have a child node with this attribute:
var notDisabled = $('#content').hasNot('[disabled=disabled]');
</code></pre>

<h3 id="hasnot">hasNot</h3>

<p>This is the same as <strong>hassnt</strong>.</p>

<h3 id="clone">clone</h3>

<p>This method clones the node it is execute on. If a boolean value that evaluates to true is passed as an argument, the method will clone the node and all its child nodes, otherwise it clones only the node itself.</p>

<p><strong>Example:</strong></p>

<pre><code>var menuEmpty = $("#menu").clone(); // Clone only the node.
var menuComplete = $("#menu").clone(true); // Clone the node and its child nodes.
</code></pre>

<h3 id="wrap">wrap</h3>

<p>This method allows you to enclose a node in markup. The markup is passed as a string argument.</p>

<p><strong>Example:</strong></p>

<pre><code>$("#menu").wrap("&lt;nav id='main'&gt;&lt;/nav&gt;");
</code></pre>

<h3 id="unwrap">unwrap</h3>

<p>This method will remove the parent node container the node, escentially making it the child of it grandparent node. See the example below:</p>

<p><strong>Example:</strong></p>

<pre><code>&lt;header&gt;
   &lt;nav&gt;
      &lt;div id="#menu"&gt;&lt;/div&gt;
   &lt;/nav&gt;
&lt;/header&gt;

// Executing:
$('#menu').unwrap()

// Will result in:

&lt;header&gt;
   &lt;div id="#menu"&gt;&lt;/div&gt;
&lt;/header&gt;
</code></pre>

<h3 id="text">text</h3>

<p>This method can return the text nodes contained by the target element, or add text to a node. If no argument is provided, it returns the node&#8217;s text. If a string of text is provided, it inserts the string as a text node of the target node. When this method returns text, it will not contain styling or semantic markup. It only returns only plain text with spaces. Be aware that when you use this method to add text to a node, the text will replace any other child nodes within the target node.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').find('li').first().text("Menu Item One");
// Pass in a variable of a string:
var menuContent = "Menu Item One";
('#menu').find('li').first().text(menuContent);
// Get the text of the last menu item:
('#menu').find('li').last().text();
</code></pre>

<h3 id="fill">fill</h3>

<p>This method will replace the contents of the target node with the argument, which can be a text string or the reference to a DOM node. This has been deprecated. For text use the <strong>text</strong> method above and for node injection use <strong>insert</strong> or <strong>html</strong> present below.</p>

<h3 id="empty">empty</h3>

<p>This method will remove all child nodes from the target element.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').empty();
</code></pre>

<h3 id="remove">remove</h3>

<p>This method will remove a node from the document. While doing so it will attempt to remove any events attached by check the event cache for that element, as well as clear any data associate with it in the data cache.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').remove();
</code></pre>

<h3 id="insert">insert</h3>

<p>This method allows you to insert markup into another node. The first argument is the content to insert. This can be a string of valid markup, or a reference to an existing HTML fragement or node. The second argument is optional. If no second argument is provided, the content will be inserted after any other child nodes contained in the target node. Posible positional arguments are &#8220;before&#8221;, &#8220;after&#8221;, or a number indicating the position in relation to the node&#8217;s other child nodes. If you pass a number greater than the actual number of child nodes, the content will be inserted after the last valid child node. A number value of 1 would be the first child position, 2 - second child position, 3 - third child position, etc.</p>

<p><strong>Example:</strong></p>

<pre><code>var newPara = "&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;"
$('#main').insert(newPara) // Insert after other child nodes.
$('#main').insert(newPara, "before") // Insert before other child nodes.
$('#main').insert(newPara, "after") // Insert after other child nodes.
$('#main').insert(newPara, 2) // Insert as the second child node.
$('#main').insert(newPara, 5) // Insert as the fifth child node.
</code></pre>

<h3 id="html">html</h3>

<p>This method complete replaces the node&#8217;s content with the content passed as an argument. This can be a string of valid markup or a refrence to an HTML fragment or node. This is the same as the jQuery/Zepto method.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').html("&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;");
var menuItems = "&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;";
$('#menu').html(menuItems);
var newItems = $('#sidebar').findAll('li');
$('#menu').html(newItems);
</code></pre>

<h3 id="prepend">prepend</h3>

<p>This method will insert the provided content before all other child nodes of the target node. This is the same as using <strong>element.insert(content, &#8220;before&#8221;)</strong> or <strong>element.insert(content, 1)</strong>. This is mainly for compatibility with jQuery/Zepto.</p>

<p><strong>Example:</strong></p>

<pre><code>var menuItems = "&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;";
$('#menu').append(menuItems);
var newNode = $.make('&lt;p&gt;A new node!&lt;/p&gt;');
$('#content').prepend(newNode);
$('#content').prepend('&lt;p&gt;A new node!&lt;/p&gt;');
</code></pre>

<h3 id="append">append</h3>

<p>This method will insert the provided content after all other child nodes in the target node. This is mainly for compatibility with jQuery/Zepto.</p>

<p><strong>Example:</strong></p>

<pre><code>var menuItems = "&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&gt;&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;";
$('#menu').prepend(menuItems);
var newNode = $.make('&lt;p&gt;A new node!&lt;/p&gt;');
$('#content').append(newNode);
$('#content').append('&lt;p&gt;A new node!&lt;/p&gt;');
</code></pre>

<h3 id="before">before</h3>

<p>This method will insert the content before the target node, making the inserted content the previous sibling of that node.</p>

<p>In this example, we use <strong>before</strong> to insert a numbered title before each paragraph in the document.</p>

<p><strong>Example:</strong></p>

<pre><code>$.itemNumber = 1;
$$("p").forEach(function(item) { 
   item.before("&lt;h1&gt;Title " + $.itemNumber + "&lt;/h1&gt;");
   ++$.itemNumber;
});
$.itemNumber = null;
</code></pre>

<h3 id="after">after</h3>

<p>This method will insert the content after the target node, making the inserted content the next sibling of that node.</p>

<p>In this example, we use <strong>after</strong> to insert an addendum after each paragraph.</p>

<p><strong>Example:</strong></p>

<pre><code>$.itemNumber = 1;
$$("p").forEach(function(item) { 
   item.after("&lt;p&gt;Addendum " + $.itemNumber + "&lt;/p&gt;");
   ++$.itemNumber;
});
$.itemNumber = null;
</code></pre>

<h3 id="attr">attr</h3>

<p>This method can return the value of an attribute or set it to the provided value. If only an attribute is provided, it will attempt to return the value of that attribute on the node. If the attribute does not exist, it will return &#8216;undefined&#8217;. If an attribute and a value are passed as arguments, the method will attempt to set that attribute with that value on the node.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menuLink').attr('href'); // return the href of a link
$('#menuLink').attr('href', '/specials.html'); // set the href of the link
</code></pre>

<h3 id="prop">prop</h3>

<p>This is the same as <strong>attr</strong> and is included for compatibility with jQuery/Zepto.</p>

<h3 id="removeattr">removeAttr</h3>

<p>This method removes the provided attribute from the node.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#menu').removeAttr('disabled');
</code></pre>

<h3 id="hasclass">hasClass</h3>

<p>This method returns a boolean value. If the node has the class, true, otherwise false. This allows you to test if the node has the class or not.</p>

<p><strong>Example:</strong></p>

<pre><code>// Get all articles and display them if they have content:
$$('article').each(function(article) {
    if (article.hasClass('content')) {
        article.css('display', 'block');
    }
});
</code></pre>

<h3 id="addclass">addClass</h3>

<p>This method adds the provided class to the node.</p>

<p><strong>Example:</strong></p>

<pre><code>$('nav').addClass('menu');
</code></pre>

<h3 id="removeclass">removeClass</h3>

<p>This method removes the provided class from the node. </p>

<pre><code>$('nav').removeClass('menu');
</code></pre>

<p><strong>toggleClass</strong></p>

<p>This method allows you to toggle a class on and off an element, or toggle between two classes. If only one class is passed as an argument, it is added then removed, then add, etc. If two class names are provided, the first is added, then the second, then the first, etc.</p>

<p><strong>Example:</strong></p>

<pre><code>// Toggle the 'hover' class:
$("#item").toggleClass("hover");
// Toggle between these two classes:
$("#item").toggleClass("selected", "unselected");
</code></pre>

<h3 id="toggleclassname">toggleClassName</h3>

<p>This method is the same as <strong>toggleClass</strong> and exists only to fullfil the same ability to toggle to classes for jQuery and Zepto when ChocolateChip.js is used in ChocolateChip-UI. That&#8217;s because toggleClass in jQuery and Zepto only toggle a single class by adding and removing it from a node. This allows toggle two classes on and off.</p>

<h3 id="val">val**</h3>

<p>This method returns the value of a form element, or, if a value is passed as an argument, the form element&#8217;s value is set to that.</p>

<p><strong>Example:</strong> </p>

<pre><code>// Get the value of a text input:
var msg = $('input[type=text]').val();
// Set the value of an input:
$('textarea').val('This is some default text');
</code></pre>

<h3 id="disable">disable</h3>

<p>This method disables and element by adding a &#8216;disabled&#8217; attribute and changing the cursor to behavior.</p>

<p><strong>Example:</strong></p>

<pre><code>$('button').disable();
</code></pre>

<h3 id="enable">enable</h3>

<p>This method enables an element that was previously disabled.</p>

<p><strong>Example:</strong></p>

<pre><code>$('input[type=range]').enable();
</code></pre>

<h3 id="gettop">getTop</h3>

<p>This method returns the position (y value) of an element from the top of the document. The element does not need to be absolute positioned. This returns an integer representing pixels.</p>

<p><strong>Example:</strong></p>

<pre><code>var buttonTop = $('uibutton[ui-implements=done]').getTop();
</code></pre>

<h3 id="getleft">getLeft</h3>

<p>This method returns the position (x value) of an element from the left of the document. The element does not need to be aboslutely positioned. This returns an integer representing pixels.</p>

<p><strong>Example:</strong></p>

<pre><code>var buttonLeft = $('uibutton[ui-implements=done]').getLeft();
</code></pre>

<h3 id="css">css</h3>

<p>This method can get the style or set the style of a node. If only a style property is passed, it returns that property&#8217;s current value on the node. If you are only applying one property definition, you can pass the arguments as two quoted strings separated by commas. Otherwise, for more complex styling you can pass an object of key/value pairs to define the style you wish to apply.</p>

<p><strong>Example:</strong></p>

<pre><code>/* Getting CSS values */
// Get the width:
var width = $('#main').css('width');
// Get the background color:
var backgroundColor = $('#main').css('background-color'); 
// Get the top padding:
var padding = $('#main').css('padding-top');
// Get the font size:
console.log($("#item").css("font-size"));

/* Setting single key value pairs */
// Set the font:
$('#main').css('font', 'bold 24px/32px Myriad');
$('#main').css('padding', '20px');
$('#main').css('height', '200px');

/* Setting complex CSS values */
$('#main').css({'width': '200px', 'height': '500px', 'background-color': 'red'});
var styles = {
   position: 'absolute',
   top: '200px',
   left: '350px',
   border: '1px solid red',
   padding: '20px',
   'background-color': 'yellow'
}
$('#main').css(styles);
</code></pre>

<p><strong>Note:</strong></p>

<p>Be aware that when getting a CSS property&#8217;s value, this method always returns a string. This means that if you try to do math operations with the value, you&#8217;ll wind up with string concatenation or a result of NaN. If you want the dimensions or other integer values, you&#8217;ll need to use parseInt() to convert those values to integers. Then you can perform math operations on the value:</p>

<pre><code>var width = $('#rightCol').css('width') // Returns 300px
width = parseInt(width, 10); // Returns integer 300
// Increase #rightCol's width by 20 pixels:
width += 20;
// Don't forget to tag on the 'px' length at the end!
$('#rightCol').css('width', width + 'px')
</code></pre>

<h3 id="bind">bind</h3>

<p>This method binds events to nodes along with a callback. A third optional argument can set the capture phase. By default it is false, but you can pass a boolean true value to change that behavior. In most cases you want the capture phase to resolve to false. </p>

<p>ChocolateChip.js uses its caching system to keep track of which events you&#8217;ve bound to an element to facility unbinding them at a later time. Please see the documentation for <strong>unbind</strong> for more information.</p>

<p><strong>Example:</strong></p>

<pre><code>var doSomething = function() {
   console.log("I'm doing it now.");
};
$("#doIt").bind("click", doSomething);
// or:
$(".stop").bind("touchend", function() {
   console.log("Time to put an end to this!");
   this.remove();
});
</code></pre>

<h3 id="unbind">unbind</h3>

<p>This method unbinds an event from a node. There are several ways in which you can unbind events from a node. The simplest is to just execute <strong>unbind</strong> directly on the node. This will unbind all events attached to the node. This is good to do if you intend on removing or replacing the node with other content.</p>

<p><strong>Example:</strong></p>

<pre><code>// Remove all events bound to the body tag:
$('body').unbind();
</code></pre>

<p>You can be more specific about which events to unbind by passing in an event type. Please not that it is possible to have multiple events of the same type attached to a node. ChocolateChip&#8217;s system for caching event information keeps track of callbacks even when you use an anonymous function. However, because an anonymous function has no name, the only way that it can be removed is by removing the event it is associated with. For example, if you have several click events attached to the same button and they all use anonymous functions as callbacks, to remove one callback associated with the click event you&#8217;ll actually have to remove all anonymous functions associated with the click event bound to that button.</p>

<pre><code>$('#myButton).bind('click', function() {
    console.log('You just clicked a button.');
 });
 $('#myButton).bind('click', function() {
    alert('Stop clicking me!!!');
 });
 $('#myButton).bind('touchstart', function() {
    console.log('You just touched me.');
 });
 // The above button now has to click events that do two different things.
 // Remove all click events, leaving the touchstart event:
$('#myButton').unbind('click');
</code></pre>

<p>If you passed a named function as a callback for an event, you can be more specific and only unbind the event with that function:</p>

<pre><code>var saySomething = function() {
   alert('This is what I have to say!');
};
$('button').bind('click', saySomething);
$('button').bind('click', function() {
   console.log('This is another annoying message.');
});
// Unbind only the event with the function 'saySomething':
$('button').unbind('click', saySomething);
</code></pre>

<p>You can also use the capture phase as a third argument to be more granular, if you have events and function with different capture phases.</p>

<h3 id="delegate">delegate</h3>

<p>This method allows you to attach a listener to a parent element to listen for events on a descendant node. This becomes very useful when you&#8217;re dealing with something like a long list of links. Instead of having to attach an event to every link, you can attach the listener to the parent container. Using delegation allows you to attach an event on the parent and not worry about how many descendant elements there are, or even if they are present yet. They might be injected into the document after the listener is attached, allowing you to capture events on them dynamically as they are generated.</p>

<p>To delegate and event you first indicate what parent node you want to listen on, followed by the node type that will be the target of the event, followed by a callback and finally an optional capture phase. By default the capture phase is resolved as false. Like <strong>bind</strong>, in most cases you want it to be false.</p>

<p>When you pass a callback, you can capture a reference to the context of the element that is the target of the event by pass a variable in the callback&#8217;s parenthesis. You can then reference that variable inside the body of the callback. In the example below, the variable &#8216;paragraph&#8217; with refer to the p tag that gets clicked.</p>

<p><strong>Example</strong></p>

<pre><code>$("body").delegate("p", "click", function(paragraph) {
  paragraph.css("background-color", "yellow");
});
</code></pre>

<p>You can also check for attributes on the event target to filter what you do with a node.    </p>

<pre><code>// Check for an attribute on the event target:
$("app").delegate("button", "touch", function(item) {
   // Check for button with "ui-implements" attribute:
   if (item.getAttribute("ui-implements") === "back") {
       item.addClass('selected');
   }
});
</code></pre>

<h3 id="undelegate">undelegate</h3>

<p>Like unbind, this method allows you to remove a delegate event from a node. The arguments work the same as unbind. So undelegate() with no arguments will remove all event bindings. Passing in only an event will undelegate all of those events, passing in an event with a reference to the callback with remove only the event associated with that callback.</p>

<p><strong>Example:</strong></p>

<pre><code>$("body").undelegate("click");

var markSelect = function(item) {
    item.addClass('selected');
};
$("app").delegate("touch", markSelect);
</code></pre>

<h3 id="trigger">trigger</h3>

<p>This method sends the provided event to the target element. For example, if you sent a click event to a button, it would react just as if you had actually clicked on it.</p>

<p><strong>Example:</strong></p>

<pre><code>$("#clickLink").bind("click", function() {
   // Trigger a click event on a hidden button:
   $("#hiddenButton").trigger("click");
});
</code></pre>

<h3 id="on">on</h3>

<p>This method is the modern equivalent of bind and delegate both. You use it just as you would bind and delegate. </p>

<p><strong>Example:</strong></p>

<pre><code>/* Examples of binding events with 'on' */
var doSomething = function() {
   console.log("I'm doing it now.");
};
$("#doIt").on("click", doSomething);
// or:
$(".stop").on("touchend", function() {
   console.log("Time to put an end to this!");
   this.remove();
});

/* Examples of event delegation with 'on' */
$("body").on("p", "click", function(paragraph) {
   paragraph.css("background-color", "yellow");
});
</code></pre>

<h3 id="off">off</h3>

<p>This method is equivalent to both unbind and undelegate. You use it the same way you would those two methods.</p>

<p><strong>Example:</strong></p>

<pre><code>$('#myButton').off('click');
// Unbind a click event with the callback "saySomething":
$('button').off('click', saySomething);
// Unbind a delegate click event:
$("body").off("click");
// Unbind a delegate click event with the callback "saySomething":
$("app").off("touch", markSelect);
</code></pre>

<h3 id="anim">anim</h3>

<p>A method to create dynamic CSS3 transitions. The method takes three arguments, an object literal of CSS values to animate, followed by a value for the duration in milliseconds, and an easing descriptor. If no easing is provided, it defaults to linear, if no duration is provided it defaults to half a second.</p>

<pre><code>element.anim(options, duration, easing);
</code></pre>

<p><strong>Example:</strong></p>

<pre><code>$("#animate").on("click", function() {
   this.anim({"-webkit-transform": "rotate3d(30, 150, 200, 180deg) scale(3) translate3d(-50%, -30%, 140%)", 
   "opacity": .25, 
   "-webkit-transform-style" : "preserve-3d", 
   "-webkit-perspective": 500}, 
   2, 
   "ease-in-out");
});
</code></pre>

<p>You can include in the object an optional callback to execute when the animation ends:</p>

<pre><code>function saySomething() {
     alert('The animation just ended.');
 }
$("#animate").on("click", function() {
   this.anim({"-webkit-transform": "rotate3d(30, 150, 200, 180deg) scale(3) translate3d(-50%, -30%, 140%)", 
   "opacity": .25, 
   "-webkit-transform-style" : "preserve-3d", 
   "-webkit-perspective": 500, 
   onEnd: saySomething }, 
   2, 
   "ease-in-out");
});
</code></pre>

<h3 id="uicheckforoverflow">UICheckForOverflow</h3>

<p>This method test to see if an element whose overflow property is set to &#8216;hidden&#8217; is hiding any content overflow.</p>

<h2 id="string_methods">String Methods</h2>

<h3 id="capitalize">capitalize</h3>

<p>This method will capitalize the first letter of a string, as for the first word of a sentence.</p>

<p><strong>Example:</strong></p>

<pre><code>var name = "robert";
name.capitalize(); // returns Robert
</code></pre>

<h3 id="capitalizeall">capitalizeAll</h3>

<p>This method will capitalize the first letter of each word in a string.</p>

<p><strong>Example:</strong></p>

<pre><code>// returns Get Out Now
var name = $.capitalize("get out now");
</code></pre>

<h3 id="camelize">camelize</h3>

<h3 id="decamelize">deCamelize</h3>

<h2 id="_methods">$ Methods</h2>

<h3 id="xhr">xhr</h3>

<p>This method allows you to execute an Ajax operation. You pass in an object literal of the properties you wish to execute. It expects at a minimal a URL to access. </p>

<p><strong>Syntax:</strong></p>

<pre><code>$.ajax({
    url : (a valid url),
    type : (get, post, put, delete),
    async : (true or false),
    params : (any data you wish to include),
    success : success,
    error : error,
});
</code></pre>

<p><strong>Example:</strong></p>

<pre><code>/* This will replace the content of the paragraph above with the content of the requested document. If the script is successful, it will execute the success callback, and if it is not, it will execute the error callback.
*/
 var content = $("#content");
$.xhr({
     url : "data.html",
    success : function(data) {
        content.html(data);
     },
     error: function(data) {
         content.html("&lt;h4&gt;There was an error while trying to get the file.&lt;/h4&gt;");
         if (data.status === -1100) {
             content.append('&lt;h2&gt;The file does not exist.&lt;/h2&gt;');
         }
     }
});
</code></pre>

<h3 id="ajax">ajax</h3>

<p>This is just an alias for $.xhr described above.</p>

<h3 id="xhrjson">xhrjson</h3>

<p>This is a method that allows you to do simple JSON data-binding to markup.</p>

<pre><code><div id="content_02"><span id='firstName'>Joe</span> <span id='lastName'>Bodoni</span> is a <span id='job'>great waiter at a restaurant downtown.</span><span id='role'></div>

/* Here we do a request for a JSON file. If the request is successful, the returned data gets mapped to the object of document elements. This results in the data being inserted into the designated elements of the document. If there is an error, an error message will be displayed. */
var content2 = $("#content_02");
$.xhrjson("person.json", { 
    "firstName": "#firstName",
    "lastName": "#lastName",
    "role":"#role",
    "job": "#job",
    errorCallback : function() {
        content2.insert("&lt;h4&gt;There was a problem processing your request. Try again later.&lt;/h4&gt;");
    }
});
</code></pre>

<h3 id="delay">delay</h3>

<p>This method allows you to execute a function with a delay, like setTimeout:</p>

<p><strong>Example:</strong></p>

<pre><code>$.delay(function() {
   console.log("This message is delayed by two seconds.");
}, 2000);
</code></pre>

<h3 id="defer">defer</h3>

<p>A method to postpone the execution of a function until the callstack is clear.</p>

<p><strong>Example:</strong></p>

<pre><code>$.defer(function() { 
   console.log("This comes before Squawk!"); 
});
</code></pre>

<h3 id="enclose">enclose</h3>

<p>A method that allows you to execute one function within the execution of another function.</p>

<p><strong>Example:</strong></p>

<pre><code>var hello = function(name) { return "Hello, " + name + "!"; };
hello = $.enclose(hello, function(func) {
   return "Before I said, \"" + func("Stan") + "\" I thought about it for a while.";
});
</code></pre>

<h3 id="compose">compose</h3>

<p>Method to return the composition of several functions, where each function consumes the return value of the function that follows.</p>

<p><strong>Example:</strong></p>

<pre><code>var greet = function(name) { return "Hi there, " + name; };
var exclaim  = function(statement) { return statement + "!"; };
var remark = function(remark) { return remark + " You know I'm glad to see you."; };
var welcome = $.compose(remark, greet, exclaim);
console.log(welcome('Jeff')); // => Hi there, Jeff! You know I'm glad to see you.
</code></pre>

<h3 id="events">events</h3>

<p>An array of events to be removed before a node is deleted from a document. This array is attached directly to the $ object.</p>

<p><strong>loadEvent</strong></p>

<p>A method to chain load multiple functions to execute when the document finishes loading. This is equivalent to the load event on the body tag.</p>

<p><strong>Example:</strong></p>

<pre><code>var myFunction = function () {
   return true;
};
$.loadEvent(myFunction());
</code></pre>

<h3 id="ready">ready</h3>

<p>Method to determine when the DOM is ready for manipulation and thereupon fire a block of code contained in an anonymous function passed to it as an argument. If there are mulitple instances of this method, it&#8217;s arguments will be chained and called sequentially with one registration of the DOMContentLoaded event.</p>

<p><strong>Example:</strong></p>

<pre><code>$.ready(function() { 
   console.log("The document is ready for action!"); 
});
</code></pre>

<p>There are several other variants of this method that you can use:</p>

<pre><code>// Like jQuery and Zepto:
$(document).ready(function() { 
   console.log("The document is ready for action!"); 
});

// Just pass in an anonymous function around the code you wish 
// to execute to the $() method:
$(function() { 
   console.log("The document is ready for action!"); 
});
</code></pre>

<h3 id="importscript">importScript</h3>

<p>A method to import external scripts into the document. This method does so by inserting a script tag into the head of the document, causing the script to load. As such, this method does not suffer from cross-domain scripting issues.</p>

<p><strong>Example:</strong></p>

<pre><code>$.importScript("https://bozo.com/scripts/myScript.js");
</code></pre>

<h2 id="variables">Variables</h2>

<h3 id="iphone">iphone</h3>

<p>Returns true if on an iPhone.</p>

<h3 id="ipad">ipad</h3>

<p>Returns true if on an iPad.</p>

<h3 id="ipod">ipod</h3>

<p>Returns true if on an iPod.</p>

<h3 id="ios">ios</h3>

<p>Returns true if on a device runing iOS.</p>

<h3 id="android">android</h3>

<p>Returns true if on a device running Android.</p>

<h3 id="webos">webos</h3>

<p>Returns true if on a device running WebOS.</p>

<h3 id="blackberry">blackberry</h3>

<p>Returns true if on a Blackberry device.</p>

<h3 id="touchenabled">touchEnabled</h3>

<p>Returns true if the device supports touch interaction.</p>

<h3 id="online">online</h3>

<p>Returns true if the device has WiFi or a network connection.</p>

<h3 id="standalone">standalone</h3>

<p>Returns true if the app is running as a pinned site, as apposed to running in a browser</p>

<h3 id="ios4">ios4</h3>

<p>Returns true if on iOS 4. </p>

<h3 id="ios5">ios5</h3>

<p>Returns true if on iOS 5.</p>

<h3 id="useraction">userAction</h3>

<p>Returns &#8216;click&#8217; on desktops or devices without touch interfaces, and returns &#8216;touchend&#8217; on touch devices.</p>

<h3 id="mobile">mobile</h3>

<p>Returns true if the device is mobile.</p>

<h3 id="desktop">desktop</h3>

<p>Returns true if the device is a desktop.</p>

<h3 id="localitem">localItem</h3>

<p>Set a key/value pair to the browser’s localStorage, or retrieve a key value. If you pass only a key, it returns the key’s value if that key is present in localStorage. Otherwise, passing a key and a value will set these on localStorage.</p>

<p><strong>Example:</strong></p>

<pre><code>$.localItem("clientFirstName", "Robert");
var clientFirstName = $.localItem("clientFirstName");
console.log("The client's name is: " + clientFirstName");
</code></pre>

<h3 id="deletelocalitem">deleteLocalItem</h3>

<pre><code>// Remove 'clientFirstName' from localStorage:
$.deleteLocalItem('clientFirstName');
</code></pre>

<p>This method deletes the provided key and its value form localStorage.</p>

<h3 id="clearlocalitems">clearLocalItems</h3>

<p>This method clears all items from localStorage.</p>

<pre><code>$.clearLocalItems();
</code></pre>

<h2 id="templating">Templating</h2>

<p>ChocolateChip provides its on built-in templating. However, although it is convenient and powerful for most templating needs, if you are dealing with large datasets where speed is important, you should consider a dedicated templating solution.</p>

<h3 id="templates">templates</h3>

<p>This is an object onto which you can store your templates. You can choose between three different templating styles: JSP, Mustache or Django.</p>

<p><strong>JSP style tags:</strong></p>

<p>The delimiters for this are &#8220;&lt;%&#8221; and &#8220;%&gt;&#8221;. You can include any JavaScript code you want to execute in the template inside these delimiters. To output the value of a variable, use &#8220;<%=&#8221; and &#8220;%>&#8221;.</p>

<p><strong>Example:</strong></p>

<pre><code>var templates.ingredients =
   "&lt;% /* Check if this recipe has ingredients: */ %&gt;\
   &lt;% if (!!recipe.ingredients) { %&gt;\
      &lt;ol class='ingredients'&gt;\
          &lt;% recipe.ingredients.forEach(function(ingredient) { %&gt;\
             &lt;li&gt;&lt;%= ingredient %&gt;&lt;/li&gt;\
          &lt;% }); %&gt;\
      &lt;/ol&gt;\
   &lt;% } %&gt;";
</code></pre>

<p><strong>Mustache style tags:</strong></p>

<p>The delimiters for this are &#8220;{{&#8221; and &#8220;}}&#8221;. You can include any JavaScript code you want to execute in the template inside these delimiters. To output the value of a variable, use &#8220;${&#8221; and &#8220;}&#8221;.</p>

<p><strong>Example:</strong></p>

<pre><code>var templates.ingredients =
   "{{ /* Check if this recipe has ingredients: */ }}\
   {{ if (!!recipe.ingredients) { }}\
      &lt;ol class='ingredients'&gt;\
          {{ recipe.ingredients.forEach(function(ingredient) { }}\
             &lt;li&gt;${ ingredient }&lt;/li&gt;\
          {{ }); }}\
      &lt;/ol&gt;\
   {{ } }}";
</code></pre>

<p><strong>Django square bracket style tags:</strong></p>

<p>The delimiters for this are &#8220;[[&#8221; and &#8220;]]&#8221;. You can include any JavaScript code you want to execute in the template inside these delimiters. To output the value of a variable, use &#8220;$[&#8221; and &#8220;]&#8221;.</p>

<p><strong>Example:</strong>
    var templates.ingredients =
       &#8220;[[ /* Check if this recipe has ingredients: */ ]]\
       [[ if (!!recipe.ingredients) { ]]\
          &lt;ol class='ingredients'&gt;\
            [[ recipe.ingredients.forEach(function(ingredient) { ]]\
               &lt;li&gt;$[ ingredient ]&lt;/li&gt;\
            [[ }); ]]\
          &lt;/ol&gt;\
       [[ } ]]&#8221;;</p>

<p><strong>Nesting Templates:</strong></p>

<p>You can break down complex templates into manageable modules which you can nest. This allows you to update the nested templates separately from the parent, or the other way around. It’s probably a good idea to name nested templates so that their name reflects their relation to the parent template they belong to. Here’s how to do it. Just define the sub-templates the same way you would define a normal template, as a value on $.templates. Then, when building out the string for the parent template you concatenate the sub-template’s variable. This would be something like this:</p>

<pre><code>$.templates.parent_child = 
 "&lt;ol&gt;\
 [[ ancestry.parent.child.forEach(function(child) { ]]\
   &lt;li&gt;$[ ancestry.parent.child.name ]&lt;/li&gt;\
 [[ }); ]]\
 &lt;/ol&gt;";

 $.templates.parent = 
 "&lt;div&gt;
   &lt;p&gt;$[ ancestry.parent.firstName ] $[ ancestry.parent.lastName ] &lt;/p&gt;"
   + $templates.parent_child + 
 "&lt;/div&gt;";
</code></pre>

<p>As you can see above, the parent_child template gets concatenated in the parent template. In the more complex example below, notice that I’m doing a conditional check to make sure the values that the nested templates depend on exist before outputting them in the parent template. Or you could put that conditional check in the nested template itself. Your call to make.</p>

<pre><code>/* The next two templates will be nested in $.templates.recipes: */
 $.templates.recipes_ingredients = 
   "&lt;cellsubtitle&gt;\
      &lt;div&gt;Ingredients&lt;/div&gt;\
      &lt;ul&gt;\
          [[ recipe.ingredients.forEach(function(ingredient) { ]]\
             &lt;li&gt;$[ ingredient ]&lt;/li&gt;\
          [[ }); ]]\
      &lt;/ul&gt;\
   &lt;/cellsubtitle&gt;";
 $.templates.recipes_directions = 
   "&lt;celldetail&gt;\
      &lt;div&gt;Directions&lt;/div&gt;\
      &lt;ol&gt;\
          [[ recipe.directions.forEach(function(direction) { ]]\
             &lt;li&gt;$[ direction ]&lt;/li&gt;\
          [[ }); ]]\
      &lt;/ol&gt;\
   &lt;/celldetail&gt;";
 /* The above two templates are nested in this template: */
 /* Before inserting the nested templates, we do a conditional check to make sure the current iteration of the JSON object has an ingredients and directions array: */
 $.templates.recipes = 
   "[[ recipes.forEach(function(recipe) { ]]\
      &lt;tablecell class='ui-no-hover'&gt;\
          &lt;celltitle&gt;$[ recipe.title ]&lt;/celltitle&gt;\
          [[ /* A conditional check for recipe ingredients: */ ]]\
          [[ if (!!recipe.ingredients) { ]]"
              + $.templates.recipes_ingredients +
          "[[ } ]]\
          [[ /* A conditional check for recipe directions: */ ]]\
          [[ if (!!recipe.directions) { ]]"
             + $.templates.recipes_directions +
          "[[ } ]]\
      &lt;/tablecell&gt;\
   [[ }); ]]";
</code></pre>

<h3 id="template">template</h3>

<p>A method to parse a JavaScript template and populate it with JSON data. You define the template as a string (see $.templates above) consisting of markup along with JavaScript enclosed in special delimiters. The $.template method parses the JSON object and passes it to the template, after which you can insert it where you wish.</p>

<p><strong>Example:</strong></p>

<pre><code>var result = $.template("ingredients", data);
$(function() {
   $("#recipe").insert(result);
});
</code></pre>

<p>One thing I want to point out in the above example, when you define a template with $.templates, such as $.templates.ingredients = &#8220;…&#8221; when you go to use the template in the $.template method, you don’t need to use $.templates.ingredients, you can just give the name of the template, &#8220;ingredients&#8221; in this case. The $.template method already knows to retrieve the template from the $.templates object.</p>

<h3 id="uiupdateorientationchange">UIUpdateOrientationChange</h3>

<p>A method for outputting a class on the body tag to identify the orientation of the mobile device when the device’s orientation changes. In landscape mode it puts the class &#8220;landscape&#8221; on the body tag and in portrait mode it puts the &#8220;portrait&#8221; on the body tag. There can only be one or the other on the body tag at any given time. This class is to enable the use of styles based on the orientation of the device. You can create styles using these class as in the example below.</p>

<p><strong>Example:</strong></p>

<pre><code>body.portrait app > view {
   background-color: green;
}
body.landscape app > view {
   background-color: orange;
}
</code></pre>

<h3 id="uilistenforwindowresize">UIListenForWindowResize</h3>

<p>A method to imitate orientation change on mobile devices. It puts a class on the body tag to mimic the orientation of the mobile device when the window is resized. If the window is wider than it is tall, it outputs the class &#8220;landscape&#8221; on the body tag, and when it is taller than it is wide, it outputs &#8220;portrait&#8221; on to the body tag. This allows you to testing for orientation change on the desktop for landscape and portrait modes.</p>

<p><strong>Example:</strong></p>

<pre><code>body.portrait app > view {
   background-color: green;
}
body.landscape app > view {
   background-color: orange;
}
</code></pre>

<h3 id="kvo">kvo</h3>

<p>A method for set up key value observers for basic data binding. This allows you to register observers on UI elements to watch for a change in a value. This value could be that of some input or control or of an object. When the observed values change, the observers capture that change and update themselves automatically. In respect to MVC (model, view, controller) practice his allows you to decouple your models from your UI (views). This is especially useful for complex and interactive user interfaces.</p>

<p>In the case of the following HTML we can put together an example in which we want the label to be aware of the value of the text input field:</p>

<p><strong>Example:</strong></p>

<pre><code>&lt;input id="textinput" type="text"&gt;
 &lt;br&gt;
 &lt;label id="labeltext"&gt;Doh!&lt;/label&gt;
 
 &lt;script&gt;
 $(function() {
   var input = $("#textinput");
   var label = $("#labeltext");
   kvo.registerObserver(label, "text");
   //var currentValue = "Bozo;
   label.keyWillUpdate = function(object, key, currentValue, newValue) {
      if (newValue) {
          this.innerText = input.value;
      } else {
          this.innerText = currentValue;
      }
   };
   input.onkeyup = function() {
      kvo.set("text", this.value);
   };
 });
 &lt;/script&gt;
</code></pre>

<h3 id="form2json">form2JSON</h3>

<p>A method that converts form values to a JSON object. This can be converted to a string for sending to the server with a GET or POST request, or stored on the client side in localStorage or the client side SQLite database.</p>

<p><strong>Paramters:</strong></p>

<ul>
<li>selector: a valid selector for the form to be processed.</li>
<li>delimiter: a character to use as a delimiter for the marking of JSON member relations in the form element’s name values (see example below). This defaults to &#8220;.&#8221;, but you can use any other character that suits your purposes.</li>
</ul>

<p>For this method to work properly you must name all form elements that you want to retrieve so that they match the structure of the resulting JSON object you would like. You use &#8220;.&#8221; to indicate the sub objects of the JSON object. For example, if your form was for signing up a user, you might have inputs with names such as:</p>

<pre><code>&lt;form id="newUser"&gt; 
   &lt;input type="text" name="newUser.name.first"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.name.last"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.address.street"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.address.city"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.address.state"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.address.zip"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.phone"&gt;&lt;/input&gt;
   &lt;input type="text" name="newUser.email"&gt;&lt;/input&gt;
 &lt;/form&gt;
 <script>
   $("#main > navbar > uibutton[ui-implements=done]").bind("click", function() {
      var formData = $.form2JSON('#personalInfo');
      formData = JSON.stringify(formData);
      window.location = "ajax/template.html?" + formData;
   });
 </script>
</code></pre>

<p>This would result in a JSON object like this:</p>

<pre><code>{"newUser":
   {"name": 
      {"first": "someValueHere"},
      {"last": "someValueHere"}
   },
   {"address":
      {"street": "someValueHere"},
      {"city": "someValueHere"},
      {"state": "someValueHere"},
      {"zip": "someValueHere"}
   },
   {"phone": "someValueHere" },
   {"email": "someValueHere"}
 }
</code></pre>

<p>Disabled form elements or ones which have no value will be ignored.</p>

<p>If you need to create an array from something like a set of choices, you’ll need to marke the name with brackets &#8220;[]&#8221; to indicate that it’s an array:</p>

<pre><code>&lt;div&gt;Favorite food&lt;/div&gt;
 &lt;p&gt;
   &lt;label&gt;Salad:&lt;/label&gt;
   &lt;input type="checkbox" name="user.favoriteFood[]" value="salad"&gt;
 &lt;/p&gt;
 &lt;p&gt;
   &lt;label&gt;Pizza:&lt;/label&gt;
   &lt;input type="checkbox" name="user.favoriteFood[]" value="pizza"&gt;
 &lt;/p&gt;
 &lt;p&gt;
   &lt;label&gt;Chicken:&lt;/label&gt;
   &lt;input type="checkbox" name="user.favoriteFood[]" value="chicken"&gt;
 &lt;/p&gt;
</code></pre>

